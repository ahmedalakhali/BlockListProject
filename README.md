# BlockListProject

A program developed to automatically detect and remove blocked files from a designated folder named files.
The program is implemented in C++ and makes use of Windows data types (typedefs) and Windows API functions, including ReadDirectoryChangesW and CreateFileW, to enable real-time file system monitoring.
The program uses the OpenSSL library to compute SHA-256 hashes of files. Each file detected in the monitored folder is scanned, its hash is calculated, and then compared against a predefined blocklist.
If a matching hash is found, the file is immediately deleted.
The utility continuously monitors the folder in real time, ensuring that any blocked or malicious files are removed as soon as they appear.  


# FileBlockList

<!-- Replace OWNER/REPO in the badge URL with your GitHub owner and repo -->
![Windows Build](https://github.com/OWNER/REPO/actions/workflows/windows-build.yml/badge.svg)

Lightweight Windows C++ utility to monitor a folder and detect files whose SHA-256 hashes appear in a blocklist.

---

## Fastest way to run the project

- Open Visual Studio updated version with "Desktop development with C++" workload
- Go to Git in Visual Studio
- Clone Repository
- Copy the project URL 
---

## Requirements

- Visual Studio 2019 / 2022 with "Desktop development with C++" workload (or MSVC toolchain)
- OpenSSL development libraries (the project uses OpenSSL for SHA-256)

This repository includes a `CMakeLists.txt` so you can build with Visual Studio or CMake.

---

## Recommended: Install OpenSSL using vcpkg (reproducible)

1. Clone vcpkg and bootstrap it:

   ```powershell
   git clone https://github.com/microsoft/vcpkg.git
   cd vcpkg
   .\bootstrap-vcpkg.bat
   ```

2. Install OpenSSL for your target triplet (example: x64):

   ```powershell
   .\vcpkg install openssl:x64-windows
   ```

3. Integrate vcpkg with Visual Studio (optional, makes includes/linking automatic):

   ```powershell
   .\vcpkg integrate install
   ```

4. When using CMake, pass the vcpkg toolchain file so CMake can find OpenSSL:

   ```powershell
   cmake -S . -B build -G "Visual Studio 17 2022" -A x64 -DCMAKE_TOOLCHAIN_FILE=path\to\vcpkg\scripts\buildsystems\vcpkg.cmake
   cmake --build build --config Release
   ```

Replace `path\to\vcpkg` with the absolute path to your cloned vcpkg directory.

---

## Alternative: Install OpenSSL manually

If you prefer not to use vcpkg:

- Install a prebuilt OpenSSL for Windows and note the include/lib directories.
- In Visual Studio, open the project properties and add the OpenSSL include path to "C/C++ ? Additional Include Directories" and the OpenSSL library path to "Linker ? Additional Library Directories". Add `libcrypto.lib` to "Linker ? Input ? Additional Dependencies".

Notes:
- Ensure the runtime architecture (x64 vs x86) matches the OpenSSL binaries you installed.
- When distributing the executable, include the matching OpenSSL runtime DLLs (e.g. `libcrypto-*.dll`) with the EXE or ensure they are installed on the target machine.

---

## Build and run (Visual Studio)

1. Open the generated solution (`build\FileBlockList.sln`) or open the provided `.vcxproj` in Visual Studio.
2. Set the configuration to `Release` and the platform to the same architecture used to install OpenSSL (e.g. x64).
3. Build the solution.
4. Create a `files` folder next to the executable and (optionally) edit `blocklist.txt` in the repo root. An empty `blocklist.txt` is fine.
5. Run the executable. A `log.txt` file will be created and updated as the scanner runs.

---

## Build and run (CMake + CLI)

1. Configure with CMake (example using vcpkg toolchain):

   ```powershell
   cmake -S . -B build -G "Visual Studio 17 2022" -A x64 -DCMAKE_TOOLCHAIN_FILE=path\to\vcpkg\scripts\buildsystems\vcpkg.cmake
   ```

2. Build:

   ```powershell
   cmake --build build --config Release
   ```

3. Run the produced `FileBlockList.exe` from `build\Release` (or from Visual Studio).

---

## Runtime notes

- The program expects a `files` directory (relative to working directory) and a `blocklist.txt` file in the working directory. The repo includes a placeholder `blocklist.txt`.
- `log.txt` is generated by the application; it is ignored by `.gitignore` to avoid noisy commits.
- The monitor code uses the Windows API (`ReadDirectoryChangesW`) so this project targets Windows only.

---

## CI

The repository includes a GitHub Actions workflow that bootstraps `vcpkg` on the runner and installs OpenSSL (`openssl:x64-windows`) before calling CMake. The workflow then configures CMake with the vcpkg toolchain so OpenSSL is found automatically and the project builds on `windows-latest`.

---

## Troubleshooting

- "unresolved external symbol" for OpenSSL functions: make sure the OpenSSL libraries are in the Linker settings and the correct architecture is selected (x64 vs x86).
- "byte: ambiguous symbol" or similar: avoid `using namespace std;` in headers (this repo's headers have been updated to qualify `std::` types).
- OpenSSL runtime DLL missing at execution: include the matching OpenSSL DLLs alongside the EXE or install OpenSSL runtime on the target machine.
- If the build fails on CI, check workflow logs — the workflow now installs vcpkg and OpenSSL, so most builds should succeed by default.

---

## License

This project is provided under the MIT License — see `LICENSE`.

---

If you want, I can also add a short CONTRIBUTING.md or a LICENSE file. Which would you prefer?
>>>>>>> d55a9b1 (Initial commit)







